#!/bin/bash -x
#git submodule update --init --progress --remote --jobs 4
#(cd asmjs; for repo in binaryen binutils-gdb gcc glibc musl ncurses wabt; do git submodule update --init --progress --remote --jobs 4 --reference ../$repo subrepos/$repo; done)
#(cd asmjs; git submodule update --init --progress --remote --jobs 4 --recursive)
#(cd wasm; for repo in bash binaryen binutils-gdb coreutils emacs gcc glibc gnulib libtool ncurses perl python wabt zsh; do git submodule update --init --progress --remote --jobs 4 --reference ../$repo subrepos/$repo; done)
#(cd wasm; git submodule update --init --progress --remote --jobs 4 --recursive)
git submodule update --init --progress --jobs 4 --recursive
git submodule foreach --recursive 'git remote remove origin || :'
./g/bin/canonical
./g/bin/install-hooks
./g/bin/pipcet
./g/bin/remotes
./g/bin/storage2
./g/bin/storage
